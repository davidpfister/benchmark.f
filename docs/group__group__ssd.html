<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="dark-mode">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="author" content="SXS Collaboration">
    <meta name="generator" content="Doxygen 1.11.0"/>
  <title>Benchmark: benchmark_steady_state_detection</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <link rel="icon" type="image/svg+xml" href="logo.drawio.svg"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
  <script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
  <script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
  <script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
  <script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
  <script type="text/javascript" src="toggle-alternative-theme.js"></script>
  <script type="text/javascript">
      DoxygenAwesomeFragmentCopyButton.init()
      DoxygenAwesomeDarkModeToggle.init()
      DoxygenAwesomeParagraphLink.init()
      DoxygenAwesomeInteractiveToc.init()
      DoxygenAwesomeTabs.init()
  </script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
  <link rel="stylesheet" href="devibeans.css">
  <script src="highlight.min.js"></script>
<script>
$(function() {
	hljs.configure({useBR: false});
	$(".fragment").each(function(i,node) {
		$(node).removeClass("fragment");
		hljs.highlightBlock(node);
	});
});
</script>
  </head>
  <body>
  <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0">
      <tbody>
        <tr style="height: 56px;">
          <td id="projectlogo"><img alt="Logo" src="hare.png" /></td>
          <td id="projectalign" style="padding-left: 0.5em;">
            <div id="projectname">
              <a href="index.html">Benchmark</a>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__group__ssd.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">benchmark_steady_state_detection</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Definition</h2>
<p>Provides methods for detecting steady-state conditions based on t-test. </p>
<dl class="section user"><dt></dt><dd><h2>Examples</h2>
</dd></dl>
<p>The following example demonstrates some of the methods found in the <a class="el" href="">benchmark_steady_state_detection </a> module.</p>
<div class="fragment"><div class="line">   <span class="keywordtype">use </span>benchmark_steady_state_detection, <span class="keywordtype">only</span>: <a class="code hl_function" href="#ga01bcc74b1d63853ac0880e6fbdb43c21">ssd</a></div>
<div class="line">   <span class="keywordtype">use </span>benchmark_workflow, <span class="keywordtype">only</span>: <a class="code hl_class" href="structbenchmark__workflow_1_1workflow.html">workflow</a></div>
<div class="line">   <span class="keywordtype">use </span>benchmark_options</div>
<div class="line">   <span class="keywordtype">use </span>benchmark_method</div>
<div class="line">   <span class="keywordtype">use </span>benchmark_timer, <span class="keywordtype">only</span>: <a class="code hl_function" href="group__group__timer.html#ga093ba96a442c18d50e9f9c6acfe11534">clock</a></div>
<div class="line">   <span class="keywordtype">use </span>benchmark_statistics, <span class="keywordtype">only</span>: <a class="code hl_class" href="structbenchmark__statistics_1_1stats.html">stats</a>   </div>
<div class="line">   <span class="keywordtype">use </span>benchmark_warning, <span class="keywordtype">only</span>: <a class="code hl_variable" href="group__group__warning.html#ga90f003a1498a3ed1f753607dbf699571">display_maxcall_warning</a></div>
<div class="line">   <span class="keywordtype">use </span>benchmark_string</div>
<div class="line">   <span class="keywordtype">use </span>benchmark_kinds</div>
<div class="line">   <span class="keywordtype">use </span>benchmark_output_unit</div>
<div class="line"> </div>
<div class="line">   <span class="keywordtype">class</span>(benchmark_run), <span class="keywordtype">intent(inout)</span> :: step</div>
<div class="line">   <span class="comment">!private</span></div>
<div class="line">   <span class="keywordtype">integer</span> :: k</div>
<div class="line"><span class="keywordtype">   real</span>(r8) :: start, finish</div>
<div class="line">   <span class="keywordtype">type</span>(stats) :: s</div>
<div class="line"><span class="keywordtype">   real</span>(r8), <span class="keywordtype">allocatable</span> :: times(:)</div>
<div class="line"><span class="keywordtype">   real</span>(r8) :: treshold</div>
<div class="line">      </div>
<div class="line">      </div>
<div class="line">   maxcall_reached = .false.</div>
<div class="line">   treshold = step%options%ssd_threshold</div>
<div class="line">   <span class="keywordflow">if</span> (first_call)  <span class="keyword">write</span> (output_unit, <span class="stringliteral">&#39;(A)&#39;</span>) new_line(<span class="stringliteral">&#39;A&#39;</span>), step%header, new_line(<span class="stringliteral">&#39;A&#39;</span>)</div>
<div class="line"> </div>
<div class="line">   step%options%count = step%options%count + 1</div>
<div class="line">   <span class="keyword">allocate</span>(times(step%options%sampling_window), source=0.0_r8)</div>
<div class="line">   </div>
<div class="line">   block</div>
<div class="line">      <span class="keywordtype">integer</span>     :: icount, jcount, count</div>
<div class="line"><span class="keywordtype">      real</span>(r8)    :: crit, t</div>
<div class="line">      </div>
<div class="line">      crit = 0.0_r8; icount = 0; jcount = 0; count = 0</div>
<div class="line">      <span class="keyword">call </span><a class="code hl_function" href="group__group__timer.html#ga093ba96a442c18d50e9f9c6acfe11534">clock</a>(start)</div>
<div class="line">      <span class="keywordflow">do</span> <span class="keywordflow">while</span> (crit &lt;= (1.0_r8 - treshold))</div>
<div class="line">         <span class="keyword">call </span>step%method%invoke(); <span class="keyword">call </span><a class="code hl_function" href="group__group__timer.html#ga093ba96a442c18d50e9f9c6acfe11534">clock</a>(finish)</div>
<div class="line">         t = finish - start</div>
<div class="line">         icount = icount + 1</div>
<div class="line">         <span class="keywordflow">if</span> (t &gt; step%options%mintime) <span class="keywordflow">then</span> </div>
<div class="line">               times(1 + modulo(jcount, step%options%sampling_window)) =   &amp;</div>
<div class="line">                  t / real(icount, <a class="code hl_variable" href="group__group__kinds.html#gaa779ae802be5bb6de8bba8cbe82c435a">r8</a>)</div>
<div class="line">               jcount = jcount + 1</div>
<div class="line">               </div>
<div class="line">               <span class="keywordflow">if</span> (jcount &gt;= step%options%sampling_window) crit =          &amp;</div>
<div class="line">                  <a class="code hl_function" href="#ga01bcc74b1d63853ac0880e6fbdb43c21">ssd</a>(times, modulo(jcount, step%options%sampling_window), &amp;</div>
<div class="line">                  treshold)</div>
<div class="line">               </div>
<div class="line">               icount = 0</div>
<div class="line">               <span class="keyword">call </span><a class="code hl_function" href="group__group__timer.html#ga093ba96a442c18d50e9f9c6acfe11534">clock</a>(start)</div>
<div class="line"><span class="keywordflow">         end if</span></div>
<div class="line">         count = count + 1</div>
<div class="line"> </div>
<div class="line">         <span class="keywordflow">if</span> (count &gt;= step%options%maxcalls) <span class="keywordflow">then</span> </div>
<div class="line">               maxcall_reached = .true.</div>
<div class="line">               <a class="code hl_variable" href="group__group__warning.html#ga90f003a1498a3ed1f753607dbf699571">display_maxcall_warning</a> = .true.</div>
<div class="line">               <span class="keywordflow">exit</span></div>
<div class="line"><span class="keywordflow">         end if</span></div>
<div class="line"><span class="keywordflow">      end do</span></div>
<div class="line">   <span class="keyword">end </span>block</div>
<div class="line"> </div>
<div class="line">   <span class="keyword">call </span>s%compute(times)</div>
<div class="line">   <span class="keywordflow">if</span> (step%options%csv_unit /= 0) <span class="keywordflow">then</span></div>
<div class="line">      <span class="keyword">call </span>summary(step, s, step%options%csv_unit)</div>
<div class="line">   <span class="keywordflow">else</span></div>
<div class="line">      <span class="keyword">call </span>summary(step, s)</div>
<div class="line"><span class="keywordflow">   end if</span></div>
<div class="line">   <span class="keyword">deallocate</span>(times)</div>
<div class="line">   <span class="keyword">nullify</span>(step%method)</div>
<div class="line">   <span class="keyword">nullify</span>(step%options)</div>
</div><!-- fragment --> <dl class="section user"><dt></dt><dd><h2>Remarks</h2>
</dd></dl>
<p>The steady-state detection algorithm is based on the work by J. D. Kelly and J. D. Hedengren, “A steady-state detection (SSD) algorithm to detect non-stationary drifts in processes,” J. Process Control, vol. 23, no. 3, pp. 326–331, 2013. The original algorithm has been altered to be used with dynamic real-time data. </p>
<h2 class="groupheader">Methods</h2>
<a id="ga01bcc74b1d63853ac0880e6fbdb43c21" name="ga01bcc74b1d63853ac0880e6fbdb43c21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga01bcc74b1d63853ac0880e6fbdb43c21">&#9670;&#160;</a></span>ssd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">real(<a class="el" href="group__group__kinds.html#gaa779ae802be5bb6de8bba8cbe82c435a">r8</a>) function, public ssd </td>
          <td>(</td>
          <td class="paramtype">real(<a class="el" href="group__group__kinds.html#gaa779ae802be5bb6de8bba8cbe82c435a">r8</a>), dimension(:), intent(in)</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)</td>          <td class="paramname"><span class="paramname"><em>offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(<a class="el" href="group__group__kinds.html#gaa779ae802be5bb6de8bba8cbe82c435a">r8</a>), intent(in)</td>          <td class="paramname"><span class="paramname"><em>alpha</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the probability that a sample <code>x</code> reached steady-state. The SSD algorithm presented in this work is also window-based and utilizes the Student-t test to determine if the difference between the process signal value minus its mean is above or below the standard-deviation times its statistical critical value. If less than, then that time instant or point is steady and if greater than, then it is unsteady where the aggregation is computed over the window approximating a probability or frequency of being at steady-state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>Sample of real(r8) values </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Index of the first values inside the periodic array x </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">alpha</td><td>Significance level for the student test.</td></tr>
  </table>
  </dd>
</dl>
<p>The mean is defined as:   </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[
         \mu = \frac{1}{n}\left(\sum x-m\sum i\right)
         \]" src="form_0.png" width="182" height="37"/>
</p>
<p> where <img class="formulaInl" alt="$m$" src="form_1.png" width="18" height="9"/> is the slope of a linear drift. In the present case, <img class="formulaInl" alt="$m=0$" src="form_2.png" width="49" height="12"/> It comes that the standard deviation is given by   </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[
         \sigma = \sqrt{\frac{1}{n-2}\sum (x-\mu)^2}
         \]" src="form_3.png" width="189" height="44"/>
</p>
<p> At this point along with a specified Student-t critical or threshold value at a particu100 lar significance level α and degrees-of-freedom n, all of the necessary information is available to test the null-hypothesis that the process signal is steady or is stationary about <img class="formulaInl" alt="$\mu$" src="form_4.png" width="12" height="12"/>   </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[
         if\  x - \mu &lt; t_{crit}-\sigma\ , then\  1,\  else\  0
         \]" src="form_5.png" width="271" height="18"/>
</p>
<p> <img class="formulaInl" alt="$t_{crit}$" src="form_6.png" width="32" height="16"/> is evaluated for a given significance level and a given degree of freedom using the t-distribution.</p>
<p><b>Remarks</b> </p>

<p class="definition">Definition at line <a class="el" href="_steady_state_detection_8f90_source.html#l00059">59</a> of file <a class="el" href="_steady_state_detection_8f90_source.html">SteadyStateDetection.f90</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
    &copy; Copyright 2017 - 2024
    <a href="LICENSE.txt" target="_blank">
    <span class="hidden-xs">Distributed under the</span>
    MIT License</a>
  </ul>
</div>
</body>
</html>
